server {
    listen 9999 ssl;
    server_name localhost;
    server_name         localhost;
    ssl_certificate     /certs/cert.pem;
    ssl_certificate_key /certs/key.pem;
    # error_page 497 http://$host:80$request_uri;
    # ssl on;
    # ssl_certificate /etc/nginx/cert/star_xx_com.crt;
    # ssl_certificate_key /etc/nginx/cert/star_xx_com.key;

    location /health
    {
        return 200 '{"message": "healthy"}';
        add_header Content-Type application/json;
    }

    # frontend in root
    location / {
        proxy_pass          https://localhost:7002/;
    }

    # deepstream backend in /api
    location /api {
        proxy_pass          https://localhost:7001/;
    }

    # location /signalling {
    #     proxy_pass          http://localhost:7003/;
    # }

}
